(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["request"],{"2f82":function(t,e,a){},"419f":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loadingState?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._m(0)]):t._e(),t.loadingState?t._e():t._t("default")],2)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert-text text-center"},[a("i",{staticClass:"fa fa-sync fa-spin"}),t._v(" \n      Loading Data...\n    ")])}],i={name:"UiLoader",props:["loadingState"]},o=i,n=a("2877"),l=Object(n["a"])(o,s,r,!1,null,null,null);e["a"]=l.exports},"648f":function(t,e,a){"use strict";(function(t){a("a481"),a("6b54"),a("7f7f"),a("ac6a"),a("7514");var s=a("cebc"),r=a("2f62"),i=a("ee83");e["a"]={name:"RequestFormModal",computed:Object(s["a"])({},Object(r["b"])("requestForm",["getRequestForm","getAllApprovers"]),{approver:function(){var t=this;return this.getAllApprovers.find(function(e){return e.employee_id===t.getRequestForm.approver_id})}}),methods:{pdfGenerator:function(){var e=this,a=[];this.getRequestForm.requested_items.forEach(function(e){a.push({request_item:e.item.description,target_date:t(e.target_date).format("MMMM D, YYYY"),approver_type:e.item.item_approver_type.type})});var s={requesting_department:this.$store.getters["login/userDetails"]["department"],submission_date:t(this.getRequestForm.created_at).format("MMMM D YYYY"),items:a,justification:Object(i["a"])(this.getRequestForm.justification),prepared_by:this.$store.getters["login/userDetails"]["name"],approved_by:Object(i["a"])(this.$store.state.requestForm.approvers.find(function(t){return t.employee_id===e.getRequestForm.approver_id})["name"])};window.open("http://".concat(window.location.hostname,"/").concat("ipc_rushform","/api/generate-pdf?formData=").concat(JSON.stringify(s)),"_blank"),window.focus()},toUpperCase:function(t){if(!t)return"";t=t.toString();var e=t.replace("_"," ");return e.charAt(0).toUpperCase()+e.slice(1)}}}}).call(this,a("c1df"))},"7fe0":function(t,e,a){"use strict";var s=a("2f82"),r=a.n(s);r.a},d6a1:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SubHeader"),a("div",{staticClass:"kt-content kt-grid__item kt-grid__item--fluid ",attrs:{id:"kt_content"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"kt-portlet kt-portlet--last kt-portlet--responsive-mobile"},[a("div",{staticClass:"kt-portlet__head"},[t._m(0),a("div",{staticClass:"kt-portlet__head-toolbar"},[a("div",{staticClass:"btn-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.active_search,expression:"active_search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Type Request Code"},domProps:{value:t.active_search},on:{input:function(e){e.target.composing||(t.active_search=e.target.value)}}}),t._m(1)])])]),a("div",{staticClass:"kt-form"},[a("div",{staticClass:"kt-portlet__body"},[a("UiLoader",{attrs:{loadingState:t.getLoadingState}},[a("table",{staticClass:"table table-striped table-bordered table-hover table-checkable",attrs:{id:"my-table"}},[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[a("i",{staticClass:"fa fa-hashtag"})]),a("th",{staticClass:"text-center",attrs:{width:"150"}},[t._v("Request Code")]),a("th",{staticClass:"text-center"},[t._v("Date Created")]),a("th",[t._v("Justification")]),a("th",{staticClass:"text-center",attrs:{width:"50"}})])]),a("tbody",[t.getEmployeeRequests.length<=0?a("tr",[a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"alert-text text-center"},[a("i",{staticClass:"fa fa-exclamation-triangle"}),t._v(" \n                          No Requests yet.\n                        ")])])]):t._e(),t._l(t.getEmployeeRequests,function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-center"},[t._v(t._s(s+1))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.request_code))]),a("td",{staticClass:"text-center"},[t._v(t._s(t._f("toDateString")(e.created_at)))]),a("td",[t._v(t._s(e.justification))]),a("td",{attrs:{nowrap:""}},[a("button",{staticClass:"btn btn-sm btn-warning btn-icon",attrs:{type:"button"},on:{click:function(a){return t.openRequest(e.request_code)}}},[a("i",{staticClass:"fa fa-folder-open text-white"})])])])})],2)])])],1),a("RequestFormModal")],1)])])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"kt-portlet__head-label"},[a("h3",{staticClass:"kt-portlet__head-title"},[t._v("\n                Your Requests\n              ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-sm btn-brand pr-2",attrs:{type:"button"}},[a("i",{staticClass:"la la-search"})])}],i=(a("96cf"),a("3b8d")),o=a("cebc"),n=a("2f62"),l=a("f61e"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal-fade"}},[t.$store.getters["requestForm/getModalState"]?a("div",{staticClass:"modal-backdrop"},[a("div",{staticClass:"modal",staticStyle:{display:"block"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Request Details")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"kt-form"},[a("div",{staticClass:"kt-portlet__body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group form-group-first"},[a("label",[t._v("Request Code")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.getRequestForm.request_code,expression:"getRequestForm.request_code"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.getRequestForm.request_code},on:{input:function(e){e.target.composing||t.$set(t.getRequestForm,"request_code",e.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group form-group-first"},[a("label",[t._v("Main Approver")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.approver.name,expression:"approver.name"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.approver.name},on:{input:function(e){e.target.composing||t.$set(t.approver,"name",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Justification")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.getRequestForm.justification,expression:"getRequestForm.justification"}],staticClass:"form-control",attrs:{cols:"30",rows:"3",readonly:""},domProps:{value:t.getRequestForm.justification},on:{input:function(e){e.target.composing||t.$set(t.getRequestForm,"justification",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group form-group-last"},[a("label",[t._v("Request Items")]),a("table",{staticClass:"table table-striped table-bordered table-hover table-checkable",attrs:{id:"my-table"}},[a("thead",[a("tr",[a("th",[a("i",{staticClass:"fa fa-hashtag"})]),a("th",[t._v("Request Item")]),a("th",[t._v("Target Date of releasing")]),a("th",[t._v("Approver")])])]),a("tbody",t._l(t.getRequestForm.requested_items,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.item.description))]),a("td",[t._v(t._s(t._f("toDateString")(e.target_date)))]),a("td",{attrs:{nowrap:""}},[t._v(t._s(t._f("upperCase")(e.item.item_approver_type.type)))])])}),0)])])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.$store.dispatch("requestForm/setModalStateAction",!1)}}},[a("i",{staticClass:"fa fa-times"}),t._v("\n              Close\n            ")]),a("button",{staticClass:"btn text-white company-primary-color",on:{click:t.pdfGenerator}},[a("i",{staticClass:"fa fa-file-pdf"}),t._v("\n              Generate PDF\n            ")])])])])])]):t._e()])},d=[],u=a("648f"),p=u["a"],m=(a("7fe0"),a("2877")),_=Object(m["a"])(p,c,d,!1,null,"aae77a6a",null),f=_.exports,v=a("419f"),h={name:"RequestForms",components:{SubHeader:l["a"],RequestFormModal:f,UiLoader:v["a"]},data:function(){return{active_search:""}},computed:Object(o["a"])({},Object(n["b"])("requestForm",["getEmployeeRequests","getLoadingState"]),{employeeId:function(){return this.$store.getters["login/userDetails"].employee_id}}),watch:{active_search:{handler:"fetchEmployeeRequests",immediate:!0}},created:function(){this.$store.dispatch("requestForm/setApproversAction",this.$store.getters["login/userDetails"].employee_id)},methods:{fetchEmployeeRequests:function(){this.$store.dispatch("requestForm/setDefaultItemsAction",{employee_id:this.employeeId})},openRequest:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a={request_code:e,requests:this.getEmployeeRequests},t.next=3,this.$store.dispatch("requestForm/setRequestbyCodeAction",a);case 3:s=t.sent,s&&this.$store.dispatch("requestForm/setModalStateAction",!0);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},g=h,b=Object(m["a"])(g,s,r,!1,null,null,null);e["default"]=b.exports},ee83:function(t,e,a){"use strict";a.d(e,"a",function(){return s});a("28a5");var s=function(t){return t?(t=t.toLowerCase().split(" ").map(function(t){return t.charAt(0).toUpperCase()+t.substring(1)}).join(" "),t):""}},f61e:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"kt-subheader   kt-grid__item",attrs:{id:"kt_subheader"}},[t._m(0),a("div",{staticClass:"kt-subheader__toolbar"},[a("div",{staticClass:"kt-subheader__wrapper"},[a("a",{staticClass:"btn kt-subheader__btn-daterange",attrs:{href:"#",id:"kt_dashboard_daterangepicker","data-toggle":"kt-tooltip",title:"Select dashboard daterange","data-placement":"left"}},[a("span",{staticClass:"kt-subheader__btn-daterange-title",attrs:{id:"kt_dashboard_daterangepicker_title"}},[t._v("Today")]),t._v(" \n        "),a("span",{staticClass:"kt-subheader__btn-daterange-date",attrs:{id:"kt_dashboard_daterangepicker_date"}},[t._v(t._s(t.getDateNow))]),a("svg",{staticClass:"kt-svg-icon kt-svg-icon--sm",attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}},[a("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("rect",{attrs:{id:"bound",x:"0",y:"0",width:"24",height:"24"}}),a("path",{attrs:{d:"M4.875,20.75 C4.63541667,20.75 4.39583333,20.6541667 4.20416667,20.4625 L2.2875,18.5458333 C1.90416667,18.1625 1.90416667,17.5875 2.2875,17.2041667 C2.67083333,16.8208333 3.29375,16.8208333 3.62916667,17.2041667 L4.875,18.45 L8.0375,15.2875 C8.42083333,14.9041667 8.99583333,14.9041667 9.37916667,15.2875 C9.7625,15.6708333 9.7625,16.2458333 9.37916667,16.6291667 L5.54583333,20.4625 C5.35416667,20.6541667 5.11458333,20.75 4.875,20.75 Z",id:"check",fill:"#000000","fill-rule":"nonzero",opacity:"0.3"}}),a("path",{attrs:{d:"M2,11.8650466 L2,6 C2,4.34314575 3.34314575,3 5,3 L19,3 C20.6568542,3 22,4.34314575 22,6 L22,15 C22,15.0032706 21.9999948,15.0065399 21.9999843,15.009808 L22.0249378,15 L22.0249378,19.5857864 C22.0249378,20.1380712 21.5772226,20.5857864 21.0249378,20.5857864 C20.7597213,20.5857864 20.5053674,20.4804296 20.317831,20.2928932 L18.0249378,18 L12.9835977,18 C12.7263047,14.0909841 9.47412135,11 5.5,11 C4.23590829,11 3.04485894,11.3127315 2,11.8650466 Z M6,7 C5.44771525,7 5,7.44771525 5,8 C5,8.55228475 5.44771525,9 6,9 L15,9 C15.5522847,9 16,8.55228475 16,8 C16,7.44771525 15.5522847,7 15,7 L6,7 Z",id:"Combined-Shape",fill:"#000000"}})])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"kt-subheader__main"},[a("span",{staticClass:"kt-subheader__separator kt-hidden"}),a("div",{staticClass:"kt-subheader__breadcrumbs"})])}],i=a("c1df"),o=a.n(i),n={name:"SubHeader",computed:{getDateNow:function(){return o()().format("dddd, MMMM Do YYYY")}}},l=n,c=a("2877"),d=Object(c["a"])(l,s,r,!1,null,null,null);e["a"]=d.exports}}]);
//# sourceMappingURL=request.3855810b.js.map